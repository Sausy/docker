echo "====[Start build/create docker Stuff] ====="

#=== parameterisize it =====
echo "======================="
echo "build done"
echo "ARCHITECTUR: $ARCHITECTUR"
echo "ROS-Version: $ROSVERSION"
echo "........................"
echo "TIP: to change these vars"
echo "edit the '.env' file"
echo "======================="

#=== copy ".env" file  =====
find . -maxdepth 1 -type d -exec cp .env {} \;

#=== If not first build we can rebuild the imgs =====
#read -p "recreate images" -n 1 -r
#if [[ ! $REPLY =~ ^[Nn]$ ]]
#then
# echo "rebuild"
# cd UdpRosBridge
# docker-compose build
# cd ../.
#fi


#=== Shall we build it =====
read -p "(re)build docker images?[y/n]" -n 1 -r
if [[ ! $REPLY =~ ^[Nn]$ ]]
then
 echo "start building images"
 cd roscore
 docker-compose create
 cd ../rosbase
 docker-compose create
 cd ../container-exchange
 git clone https://github.com/Sausy/node-red-contrib-web-babylonjs.git
 cd ../nodered
 docker-compose create
 cd ../.
fi




docker update --restart always myroscore
docker update --restart always myinterface
docker update --restart always mynodered
